#!/usr/bin/env ruby
# frozen_string_literal: true

require 'pleasegpt'
require 'pleasegpt/cli'
require 'openai'

case ARGV[0]
when 'save-key'
  PleaseGPT::CLI.new.save_api_key
when 'load-key'
  PleaseGPT::CLI.new.load_api_key
when 'help'
  puts <<-HELP
PleaseGPT - A command-line tool for OpenAI's GPT-3 API

Usage:
  pleasegpt [input]           # Generate text based on input
  pleasegpt save-key          # Save OpenAI API key to .env file
  pleasegpt load-key          # Load OpenAI API key from .env file
  pleasegpt help              # Show this help message
  HELP
else
  PleaseGPT::CLI.new.start(ARGV)
end
